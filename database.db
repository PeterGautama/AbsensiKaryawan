USE [DB_DEV]
GO

/****** Object:  Table [dbo].[MASTER_ABSENT]    Script Date: 02/12/2021 10:33:38 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[MASTER_ABSENT](
	[EMPLOYEE_ID] [varchar](50) NOT NULL,
	[ABSENT_DATE] [date] NOT NULL,
	[ABSENT_CLOCK_IN] [varchar](5) NULL,
	[ABSENT_CLOCK_OUT] [varchar](5) NULL,
	[ATTACHMENT_FILE_CLOCK_IN] [varchar](max) NULL,
	[ATTACHMENT_NAME_CLOCK_IN] [varchar](150) NULL,
	[ATTACHMENT_FILE_CLOCK_OUT] [varchar](max) NULL,
	[ATTACHMENT_NAME_CLOCK_OUT] [varchar](150) NULL,
	[UPDATED_TIME] [datetime] NULL,
	[UPDATED_BY] [varchar](50) NULL,
	[CREATED_TIME] [datetime] NULL,
	[CREATED_BY] [varchar](50) NULL,
 CONSTRAINT [PK_MASTER_ABSENT] PRIMARY KEY CLUSTERED 
(
	[EMPLOYEE_ID] ASC,
	[ABSENT_DATE] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO




USE [DB_DEV]
GO

/****** Object:  Table [dbo].[MASTER_EMPLOYEE]    Script Date: 02/12/2021 10:34:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[MASTER_EMPLOYEE](
	[EMPLOYEE_ID] [varchar](50) NOT NULL,
	[EMPLOYEE_NAME] [varchar](100) NULL,
	[DEPT] [varchar](100) NULL,
	[HIERARCHY] [varchar](50) NULL,
	[ABSENT_ACCESS] [varchar](10) NULL,
	[ABSENT_PASS] [varbinary](8000) NULL,
	[UPDATED_TIME] [datetime] NULL,
	[UPDATED_BY] [varchar](50) NULL,
	[CREATED_TIME] [datetime] NULL,
	[CREATED_BY] [varchar](50) NULL,
 CONSTRAINT [PK_MASTER_EMPLOYEE] PRIMARY KEY CLUSTERED 
(
	[EMPLOYEE_ID] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
) ON [PRIMARY]
GO



USE [DB_DEV]
GO

/****** Object:  Table [dbo].[MASTER_PROGRAM]    Script Date: 02/12/2021 10:35:19 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[MASTER_PROGRAM](
	[PROGRAM_CODE] [varchar](50) NULL,
	[PROGRAM_NAME] [varchar](100) NULL,
	[PROGRAM_PATH] [varchar](200) NULL,
	[PROGRAM_LEVEL] [varchar](50) NULL
) ON [PRIMARY]
GO



   INSERT INTO [DB_DEV].[dbo].[MASTER_EMPLOYEE]
   ([EMPLOYEE_ID], [EMPLOYEE_NAME], [DEPT], [HIERARCHY], [ABSENT_ACCESS], [ABSENT_PASS], [UPDATED_TIME], [UPDATED_BY], [CREATED_TIME], [CREATED_BY])
    	SELECT
    	    'AB-001' AS EMPLOYEE_ID
            ,'Absent Admin' AS EMPLOYEE_NAME
            ,'HRD' AS [DEPT]
            ,'Staff' AS [HIERARCHY]
            ,'Admin' AS ABSENT_ACCESS
            ,EncryptByPassPhrase('PTR123',cast('1234' as varchar(max))) as ABSENT_PASS
            ,CURRENT_TIMESTAMP AS UPDATED_TIME
            ,'AB-001' AS UPDATED_BY
            ,CURRENT_TIMESTAMP AS CREATED_TIME
            ,'AB-001' AS CREATED_BY

  INSERT INTO [DB_DEV].[dbo].[MASTER_PROGRAM]
  SELECT [PROGRAM_CODE] = 'ABSENT_SYSTEM',
		 [PROGRAM_NAME] = 'Master Employee',
		 [PROGRAM_PATH] = 'admin/master-employee',
		 [PROGRAM_LEVEL] = 'Admin'

  INSERT INTO [DB_DEV].[dbo].[MASTER_PROGRAM]
  SELECT [PROGRAM_CODE] = 'ABSENT_SYSTEM',
		 [PROGRAM_NAME] = 'Absent Report',
		 [PROGRAM_PATH] = 'admin/absent-report',
		 [PROGRAM_LEVEL] = 'Admin'
  
  INSERT INTO [DB_DEV].[dbo].[MASTER_PROGRAM]
  SELECT [PROGRAM_CODE] = 'ABSENT_SYSTEM',
		 [PROGRAM_NAME] = 'Manage Absent',
		 [PROGRAM_PATH] = 'user/manage-absent',
		 [PROGRAM_LEVEL] = 'Staff'
  
  INSERT INTO [DB_DEV].[dbo].[MASTER_PROGRAM]
  SELECT [PROGRAM_CODE] = 'ABSENT_SYSTEM',
		 [PROGRAM_NAME] = 'Change Password',
		 [PROGRAM_PATH] = 'user/change-password',
		 [PROGRAM_LEVEL] = 'Staff'





